<%@page import="java.time.Month"%>
<%@page import="java.time.Year"%>
<%@page import="java.util.Calendar"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions"%>
<%@ taglib prefix="sql" uri="http://java.sun.com/jsp/jstl/sql"%>
<%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt" %>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<%
  Calendar cal = Calendar.getInstance();
  
  // 달력 생성을 위해 1일로 설정
  cal.set(Year, Month-1, 1);	// 달 인자: 0~11
  
  // 설정일의 요일
  int dayOfWeek = cal.get(Calendar.DAY_OF_WEEK);
  
  // 해당 달의 마지막날
  int lastday = cal.getActualMaximum(Calendar.DAY_OF_MONTH);
%>
<!-- 달력 내 날짜칸 -->
<%
for(int i = 1; i <= lastday; i++) {
    %>
    <td>
        <span class="callist"> <!-- 날짜 -->
            <a href='callist.jsp?year=<%=year%>&month=<%=month%>&day=<%=i%>'>
                <%= i %>
            </a>
        </span>
        <span class="calwrite"> <!-- 일정생성 버튼 -->
            <a href='calwrite.jsp?year=<%=year%>&month=<%=month%>&day=<%=i%>'>
                +
            </a>
        </span>
        <div class="daytable"> <!-- 일정 테이블 -->
        	<%= CalendarUtil.makeTable(year, month, i, list) %>
        </div>
    </td>
    <%
    // 줄바꿈
    if((i + dayOfWeek - 1) % 7 == 0) {
        %>	
        </tr><tr>
        <%
    }
}
%>
</body>
</html>